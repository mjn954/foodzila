# راهنمای راه‌اندازی پروژه فودزیلا

### معرفی تیم توسعه‌دهنده

این وب‌سایت توسط سه نفر برنامه‌نویسی شده است:
- **Nasrollahi**: مسئول **Backend** مربوط به **Admin Panel**
- **Amiri**: مسئول **Backend** برای بخش فرانت‌سایت
- **Kimiya**: مسئول **Frontend**

**نکته:** دلیل وجود دو مسئول برای بخش **Backend** این است که یکی از آن‌ها روی **Admin Panel** کار کرده و دیگری روی **فرانت سایت**.

---

## مراحل راه‌اندازی پروژه

### 1. ایجاد پوشه‌ها و کپی فایل‌ها
ابتدا دو پوشه با نام‌های زیر ایجاد کنید و فایل‌های مربوطه را داخل آن‌ها کپی کنید:
- `adminpanel`
- `laravel`

### 2. اجرای دستورات اولیه
سپس، دو ترمینال جداگانه باز کرده و در هر کدام دستورات زیر را اجرا کنید.

#### در ترمینال اول:

cd ./adminpanel
composer install
```
#### در ترمینال دوم:

cd ./laravel
composer install
```

### 3. اجرای سرورهای لوکال
#### در ترمینال `adminpanel`:

php artisan serve --port=8001
```
#### در ترمینال `laravel`:

php artisan serve
```

### 4. تنظیمات پایگاه داده و مهاجرت جداول
در ترمینال `adminpanel`، ابتدا وارد پوشه `adminpanel` شوید و دستور زیر را اجرا کنید:

cd ./adminpanel
php artisan migrate
```

### 5. پیکربندی فایل `.env`
در فایل `.env` هر دو پروژه، نام دیتابیس را یکسان تنظیم کنید. تیم ما نام دیتابیس را `laravel_golden_down` قرار داده، اما شما می‌توانید آن را تغییر دهید. فقط دقت کنید که **هر دو پروژه باید به یک دیتابیس متصل باشند.**

### 6. ایجاد دیتابیس در `phpMyAdmin`
با نصب برنامه **XAMPP** می‌توانید به‌راحتی از `phpMyAdmin` برای مدیریت دیتابیس استفاده کنید.
1. وارد `phpMyAdmin` شوید.
2. روی گزینه `New` کلیک کنید.
3. نام دیتابیس را وارد کرده و گزینه `Create` را بزنید.

### 7. تنظیمات اولیه دیتابیس برای Admin Panel
#### 1. ایجاد یک کاربر در جدول `users`
#### 2. ایجاد نقش‌ها در جدول `roles`
   - `admin`
   - `author`
   - `financial`
#### 3. تعیین نقش کاربر در جدول `role_user`

> **نکته:** هر نقش دسترسی‌های خاص خود را دارد. یک کاربر می‌تواند چندین نقش داشته باشد.

### 8. ایجاد محصولات آزمایشی
برای اطمینان از عملکرد صحیح صفحات `menu` و `singlepage`، حداقل **4 تا 5 محصول** ایجاد کنید.

### 9. رفع مشکلات ورود به پنل ادمین
اگر هنگام ورود به صفحه **Admin Panel** دچار مشکل شدید، دو راه حل دارید:
1. **ویرایش دستی ایمیل و پسورد کاربر در جدول `users`**.
2. **حذف اجباری مسیر لاگین:**
   - به پوشه `adminpanel/cache` بروید.
   - فایل `app.php` را باز کنید.
   - خطی که `/login` در آن نوشته شده را **کامنت کنید** (با `//`).

---

## راه‌اندازی وب‌سایت (بخش فرانت‌سایت)

### 1. غیرفعال کردن اجبار لاگین کاربران
اگر نمی‌خواهید کاربر مجبور به ورود شود، فایل زیر را ویرایش کنید:

bootstrap/app.php
```
خط زیر را **کامنت کنید یا حذف کنید:**
```php
$middleware->redirectGuestsTo('/login');
```

### 2. تنظیمات اولیه دیتابیس در `phpMyAdmin`
برای نمایش صحیح سایت، موارد زیر را ایجاد کنید:
- **اسلایدر (slider)**
- **فوتر (footer)**
- **درباره ما (aboutus)**

### 3. پیکربندی OTP و درگاه پرداخت
- **برای تست OTP:** مقدار ارسال‌شده در جدول `users` نمایش داده می‌شود.
- **اتصال به درگاه پرداخت:**
  - از آنجا که پروژه روی `localhost` اجرا می‌شود، برخی درگاه‌های پرداخت روی لوکال اجرا نمی‌شوند.
  - برای پرداخت آنلاین باید وب‌سایت را روی هاست آپلود کنید.
  - داکیومنت تنظیمات درگاه پرداخت معمولاً در سایت ارائه‌دهنده آن موجود است. در صورت نیاز، با پشتیبانی سرویس تماس بگیرید.

### 4. وارد کردن اطلاعات شهرها و استان‌ها
برای عملکرد صحیح بخش پروفایل، دو فایل زیر را در دیتابیس **Import** کنید:
- `cities`
- `provinces`

---

## راه ارتباطی با تیم توسعه
- **پشتیبانی بک‌اند:** `mjn265813@gmail.com`
- **پشتیبانی فرانت‌اند:** `mjn268513@gmail.com`
- **پشتیبانی دیتابیس و تنظیمات کلی:** `mjef0099@gmail.com`

---

## نام پروژه: فودزیلا
